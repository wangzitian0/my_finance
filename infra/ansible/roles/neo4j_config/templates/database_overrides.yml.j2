# Neo4j Environment Overrides - Generated by Ansible
# Issue #266: Ansible-friendly configuration structure
# Environment: {{ neo4j_environment }}
# Generated: {{ ansible_date_time.iso8601 }}

environments:
  {{ neo4j_environment }}:
    neo4j:
      host: "{{ neo4j_final_config.host }}"
{% if neo4j_final_config.port != neo4j_defaults.port %}
      port: {{ neo4j_final_config.port }}
{% endif %}
{% if neo4j_final_config.database != neo4j_defaults.database %}
      database: "{{ neo4j_final_config.database }}"
{% endif %}
      
      auth:
        user: "{{ neo4j_final_config.auth.user }}"
        password: "{{ neo4j_final_config.auth.password }}"
      
{% if neo4j_final_config.connection != neo4j_defaults.connection %}
      # Connection overrides
      connection:
{% if neo4j_final_config.connection.timeout != neo4j_defaults.connection.timeout %}
        timeout: {{ neo4j_final_config.connection.timeout }}
{% endif %}
{% if neo4j_final_config.connection.max_retry_attempts != neo4j_defaults.connection.max_retry_attempts %}
        max_retry_attempts: {{ neo4j_final_config.connection.max_retry_attempts }}
{% endif %}
{% if neo4j_final_config.connection.pool_max_size != neo4j_defaults.connection.pool_max_size %}
        pool_max_size: {{ neo4j_final_config.connection.pool_max_size }}
{% endif %}
{% endif %}

{% if neo4j_final_config.test_settings != neo4j_defaults.test_settings %}
      # Test setting overrides
      test_settings:
{% if neo4j_final_config.test_settings.cleanup_on_exit != neo4j_defaults.test_settings.cleanup_on_exit %}
        cleanup_on_exit: {{ neo4j_final_config.test_settings.cleanup_on_exit | lower }}
{% endif %}
{% if neo4j_final_config.test_settings.performance_baseline_ms != neo4j_defaults.test_settings.performance_baseline_ms %}
        performance_baseline_ms: {{ neo4j_final_config.test_settings.performance_baseline_ms }}
{% endif %}
{% endif %}

{% if neo4j_final_config.monitoring != neo4j_defaults.monitoring %}
      # Monitoring overrides
      monitoring:
{% if neo4j_final_config.monitoring.enable_metrics != neo4j_defaults.monitoring.enable_metrics %}
        enable_metrics: {{ neo4j_final_config.monitoring.enable_metrics | lower }}
{% endif %}
{% if neo4j_final_config.monitoring.enable_crud_tests != neo4j_defaults.monitoring.enable_crud_tests %}
        enable_crud_tests: {{ neo4j_final_config.monitoring.enable_crud_tests | lower }}
{% endif %}
{% endif %}