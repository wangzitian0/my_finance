# DTS (Data Transport Service)

数据传输服务层，负责数据导入导出线上库，为dcf_engine屏蔽输入输出的基建细节。

## 职责

### 数据抽象层
- **统一数据接口**: 为上层业务提供统一的数据访问API
- **多源适配**: 支持Neo4j、MySQL、Redis等多种存储后端
- **数据转换**: 在不同存储格式间进行数据转换
- **缓存管理**: 提供智能缓存机制提升访问性能

### 数据服务
- **读取服务**: 高性能的数据查询和检索
- **写入服务**: 批量数据导入和实时数据更新
- **事务管理**: 确保数据一致性和完整性
- **连接池管理**: 优化数据库连接使用

## 架构设计

```
dcf_engine
    ↓ (调用)
dts (数据抽象层)
    ↓ (适配)
数据存储层 (Neo4j/MySQL/Redis/配置中心)
```

## 待实现模块

### 核心模块
- [ ] `data_adapter.py` - 数据适配器基类
- [ ] `neo4j_adapter.py` - Neo4j数据适配器
- [ ] `cache_manager.py` - 缓存管理器
- [ ] `connection_pool.py` - 连接池管理
- [ ] `data_validator.py` - 数据验证器

### 服务接口
- [ ] `reader_service.py` - 数据读取服务
- [ ] `writer_service.py` - 数据写入服务
- [ ] `query_builder.py` - 查询构建器
- [ ] `schema_manager.py` - Schema管理器

## 设计原则

1. **抽象隔离**: 上层业务不依赖具体存储实现
2. **高性能**: 通过缓存和连接池优化性能
3. **可扩展**: 支持新增数据源和存储后端
4. **容错性**: 处理网络异常和存储故障
5. **监控友好**: 提供详细的性能和错误指标